<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>The Catalyst DSL - Introduction · Catalyst.jl</title><meta name="title" content="The Catalyst DSL - Introduction · Catalyst.jl"/><meta property="og:title" content="The Catalyst DSL - Introduction · Catalyst.jl"/><meta property="twitter:title" content="The Catalyst DSL - Introduction · Catalyst.jl"/><meta name="description" content="Documentation for Catalyst.jl."/><meta property="og:description" content="Documentation for Catalyst.jl."/><meta property="twitter:description" content="Documentation for Catalyst.jl."/><meta property="og:url" content="https://docs.sciml.ai/Catalyst/stable/model_creation/dsl_basics/"/><meta property="twitter:url" content="https://docs.sciml.ai/Catalyst/stable/model_creation/dsl_basics/"/><link rel="canonical" href="https://docs.sciml.ai/Catalyst/stable/model_creation/dsl_basics/"/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-90474609-3"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-90474609-3', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="Catalyst.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Catalyst.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Introduction to Catalyst</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../introduction_to_catalyst/catalyst_for_new_julia_users/">Introduction to Catalyst and Julia for New Julia users</a></li><li><a class="tocitem" href="../../introduction_to_catalyst/introduction_to_catalyst/">Introduction to Catalyst</a></li><li><a class="tocitem" href="../../introduction_to_catalyst/math_models_intro/">Mathematical Models Catalyst can Generate</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3"><span class="docs-label">Model creation and properties</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>The Catalyst DSL - Introduction</a><ul class="internal"><li><a class="tocitem" href="#dsl_description_basic_syntax"><span>Basic syntax</span></a></li><li><a class="tocitem" href="#dsl_description_parameters_basics"><span>Defining parameters and species in the DSL</span></a></li><li><a class="tocitem" href="#dsl_description_reactions"><span>Different types of reactions</span></a></li><li><a class="tocitem" href="#dsl_description_reaction_bundling"><span>Bundling of similar reactions</span></a></li><li><a class="tocitem" href="#dsl_description_nonconstant_rates"><span>Non-constant reaction rates</span></a></li><li><a class="tocitem" href="#dsl_description_stoichiometries"><span>Non-standard stoichiometries</span></a></li><li><a class="tocitem" href="#dsl_description_symbols"><span>Using special symbols</span></a></li></ul></li><li><a class="tocitem" href="../dsl_advanced/">The Catalyst DSL - Advanced Features and Options</a></li><li><a class="tocitem" href="../programmatic_CRN_construction/">Programmatic Construction of Symbolic Reaction Systems</a></li><li><a class="tocitem" href="../compositional_modeling/">Compositional Modeling of Reaction Systems</a></li><li><a class="tocitem" href="../constraint_equations/">Coupled ODEs, Algebraic Equations, and Events</a></li><li><a class="tocitem" href="../conservation_laws/">Working with Conservation Laws</a></li><li><a class="tocitem" href="../parametric_stoichiometry/">Symbolic Stoichiometries</a></li><li><a class="tocitem" href="../functional_parameters/">Inputs and time-dependent (or functional) parameters</a></li><li><a class="tocitem" href="../model_file_loading_and_export/">Loading Chemical Reaction Network Models from Files</a></li><li><a class="tocitem" href="../model_visualisation/">Model Visualisation</a></li><li><a class="tocitem" href="../reactionsystem_content_accessing/">Accessing Model Properties</a></li><li><a class="tocitem" href="../chemistry_related_functionality/">Chemistry-related Functionality</a></li><li><input class="collapse-toggle" id="menuitem-3-13" type="checkbox"/><label class="tocitem" for="menuitem-3-13"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../examples/basic_CRN_library/">Library of Basic Chemical Reaction Network Models</a></li><li><a class="tocitem" href="../examples/programmatic_generative_linear_pathway/">Programmatic, Generative, Modelling of a Linear Pathway</a></li><li><a class="tocitem" href="../examples/hodgkin_huxley_equation/">Hodgkin-Huxley Equation</a></li><li><a class="tocitem" href="../examples/smoluchowski_coagulation_equation/">Smoluchowski Coagulation Equation</a></li><li><a class="tocitem" href="../examples/noise_modelling_approaches/">Approaches for modelling system noise</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Model simulation and visualization</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_simulation/simulation_introduction/">Model Simulation Introduction</a></li><li><a class="tocitem" href="../../model_simulation/simulation_plotting/">Simulation Plotting</a></li><li><a class="tocitem" href="../../model_simulation/simulation_structure_interfacing/">Interfacing Problems, Integrators, and Solutions</a></li><li><a class="tocitem" href="../../model_simulation/ensemble_simulations/">Ensemble/Monte Carlo Simulations</a></li><li><a class="tocitem" href="../../model_simulation/ode_simulation_performance/">Advice for Performant ODE Simulations</a></li><li><a class="tocitem" href="../../model_simulation/sde_simulation_performance/">Advice for Performant SDE Simulations</a></li><li><a class="tocitem" href="../../model_simulation/finite_state_projection_simulation/">Solving the chemical master equation using FiniteStateProjection.jl</a></li><li><input class="collapse-toggle" id="menuitem-4-8" type="checkbox"/><label class="tocitem" for="menuitem-4-8"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_simulation/examples/periodic_events_simulation/">Modelling a Periodic Event During ODE and Jump Simulations</a></li><li><a class="tocitem" href="../../model_simulation/examples/activation_time_distribution_measurement/">Measuring the Distribution of System Activation Times</a></li><li><a class="tocitem" href="../../model_simulation/examples/interactive_brusselator_simulation/">Interactive Simulation and Plotting</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Network Analysis</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../network_analysis/odes/">Decomposing the Reaction Network ODEs</a></li><li><a class="tocitem" href="../../network_analysis/crn_theory/">Chemical Reaction Network Theory</a></li><li><a class="tocitem" href="../../network_analysis/network_properties/">Caching of Network Properties in <code>ReactionSystems</code></a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Steady state analysis</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../steady_state_functionality/homotopy_continuation/">Finding Steady States through Homotopy Continuation</a></li><li><a class="tocitem" href="../../steady_state_functionality/nonlinear_solve/">Finding Steady States using NonlinearSolve.jl and SteadyStateDiffEq.jl</a></li><li><a class="tocitem" href="../../steady_state_functionality/steady_state_stability_computation/">Steady state stability computation</a></li><li><a class="tocitem" href="../../steady_state_functionality/bifurcation_diagrams/">Bifurcation Diagrams</a></li><li><a class="tocitem" href="../../steady_state_functionality/dynamical_systems/">Analysing Model Steady State Properties with DynamicalSystems.jl</a></li><li><input class="collapse-toggle" id="menuitem-6-6" type="checkbox"/><label class="tocitem" for="menuitem-6-6"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../steady_state_functionality/examples/nullcline_plotting/">Plotting Nullclines and Steady States in Phase Space</a></li><li><a class="tocitem" href="../../steady_state_functionality/examples/bifurcationkit_periodic_orbits/">Computing Periodic Orbits (Oscillations) Using BifurcationKit.jl</a></li><li><a class="tocitem" href="../../steady_state_functionality/examples/bifurcationkit_codim2/">Tracking Bifurcation Point w.r.t. Secondary Parameters using BifurcationKit.jl</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">Inverse problems</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../inverse_problems/petab_ode_param_fitting/">Parameter Fitting for ODEs using PEtab.jl</a></li><li><a class="tocitem" href="../../inverse_problems/optimization_ode_param_fitting/">Parameter Fitting for ODEs using Optimization.jl</a></li><li><a class="tocitem" href="../../inverse_problems/behaviour_optimisation/">Optimization for Non-data Fitting Purposes</a></li><li><a class="tocitem" href="../../inverse_problems/structural_identifiability/">Structural Identifiability Analysis</a></li><li><a class="tocitem" href="../../inverse_problems/global_sensitivity_analysis/">Global Sensitivity Analysis</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8" type="checkbox"/><label class="tocitem" for="menuitem-8"><span class="docs-label">Spatial modelling</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../spatial_modelling/lattice_reaction_systems/">Introduction to Spatial Modelling with Catalyst</a></li><li><a class="tocitem" href="../../spatial_modelling/lattice_simulation_structure_ interaction/">Interfacing with Lattice Problems, Integrators, and Solutions</a></li><li><a class="tocitem" href="../../spatial_modelling/lattice_simulation_plotting/">Plotting Spatial Simulations</a></li><li><a class="tocitem" href="../../spatial_modelling/spatial_ode_simulations/">Spatial ODE simulations</a></li><li><a class="tocitem" href="../../spatial_modelling/spatial_jump_simulations/">Spatial Jump Simulations</a></li></ul></li><li><a class="tocitem" href="../../faqs/">FAQs</a></li><li><input class="collapse-toggle" id="menuitem-10" type="checkbox"/><label class="tocitem" for="menuitem-10"><span class="docs-label">API</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../api/core_api/">Catalyst.jl API</a></li><li><a class="tocitem" href="../../api/network_analysis_api/">Network analysis and representations</a></li></ul></li><li><a class="tocitem" href="../../devdocs/dev_guide/">Developer Documentation</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Model creation and properties</a></li><li class="is-active"><a href>The Catalyst DSL - Introduction</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>The Catalyst DSL - Introduction</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/SciML/Catalyst.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/SciML/Catalyst.jl/blob/master/docs/src/model_creation/dsl_basics.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="dsl_description"><a class="docs-heading-anchor" href="#dsl_description">The Catalyst DSL - Introduction</a><a id="dsl_description-1"></a><a class="docs-heading-anchor-permalink" href="#dsl_description" title="Permalink"></a></h1><p>In the <a href="../../introduction_to_catalyst/introduction_to_catalyst/#introduction_to_catalyst">introduction to Catalyst</a> we described how the <code>@reaction_network</code> <a href="https://docs.julialang.org/en/v1/manual/metaprogramming/#man-macros">macro</a> can be used to create chemical reaction network (CRN) models. This macro enables a so-called <a href="https://en.wikipedia.org/wiki/Domain-specific_language">domain-specific language</a> (DSL) for creating CRN models. This tutorial will give a basic introduction on how to create Catalyst models using this macro (from now onwards called &quot;<em>the Catalyst DSL</em>&quot;). A <a href="../dsl_advanced/#dsl_advanced_options">follow-up tutorial</a> will describe some of the DSL&#39;s more advanced features.</p><p>The Catalyst DSL generates a <a href="../../api/core_api/#Catalyst.ReactionSystem"><code>ReactionSystem</code></a> (the <a href="https://docs.julialang.org/en/v1/manual/types/#Composite-Types">julia structure</a> Catalyst uses to represent CRN models). These can be created through alternative methods (e.g. <a href="../programmatic_CRN_construction/#programmatic_CRN_construction">programmatically</a> or <a href="../compositional_modeling/#compositional_modeling">compositionally</a>). <a href="../../introduction_to_catalyst/introduction_to_catalyst/#introduction_to_catalyst">Previous</a> and <a href="../../model_simulation/simulation_introduction/#simulation_intro">following</a> tutorials describe how to simulate models once they have been created using the DSL. This tutorial will solely focus on model creation.</p><p>Before we begin, we will first load the Catalyst package (which is required to run the code).</p><pre><code class="language-julia hljs">using Catalyst</code></pre><h3 id="dsl_description_quick_start"><a class="docs-heading-anchor" href="#dsl_description_quick_start">Quick-start summary</a><a id="dsl_description_quick_start-1"></a><a class="docs-heading-anchor-permalink" href="#dsl_description_quick_start" title="Permalink"></a></h3><p>The DSL is initiated through the <code>@reaction_network</code> macro, which is followed by one line for each reaction. Each reaction consists of a <em>rate</em>, followed lists first of the substrates and next of the products. E.g. a <a href="../examples/basic_CRN_library/#basic_CRN_library_mm">Michaelis-Menten enzyme kinetics system</a> can be written as</p><pre><code class="language-julia hljs">rn = @reaction_network begin
    (kB,kD), S + E &lt;--&gt; SE
    kP, SE --&gt; P + E
end</code></pre><p class="math-container">\[ \begin{align*}
\mathrm{S} + \mathrm{E} &amp;\xrightleftharpoons[\mathtt{kD}]{\mathtt{kB}} \mathrm{\mathtt{SE}} \\
\mathrm{\mathtt{SE}} &amp;\xrightarrow{\mathtt{kP}} \mathrm{P} + \mathrm{E}  
 \end{align*}
 \]</p><p>Here, <code>&lt;--&gt;</code> is used to create a bi-directional reaction (with forward rate <code>kP</code> and backward rate <code>kD</code>). Next, the model (stored in the variable <code>rn</code>) can be used as input to various types of <a href="../../model_simulation/simulation_introduction/#simulation_intro">simulations</a>.</p><h2 id="dsl_description_basic_syntax"><a class="docs-heading-anchor" href="#dsl_description_basic_syntax">Basic syntax</a><a id="dsl_description_basic_syntax-1"></a><a class="docs-heading-anchor-permalink" href="#dsl_description_basic_syntax" title="Permalink"></a></h2><p>The basic syntax of the DSL is</p><pre><code class="language-julia hljs">rn = @reaction_network begin
    2.0, X --&gt; Y
    1.0, Y --&gt; X
end</code></pre><p class="math-container">\[ \begin{align*}
\mathrm{X} &amp;\xrightleftharpoons[1.0]{2.0} \mathrm{Y}  
 \end{align*}
 \]</p><p>Here, you start with <code>@reaction_network begin</code>, next list all of the model&#39;s reactions, and finish with <code>end</code>. Each reaction consists of</p><ul><li>A <em>rate</em>.</li><li>A (potentially empty) set of <em>substrates</em>.</li><li>A (potentially empty) set of <em>products</em>.</li></ul><p>Each reaction line declares, in order, the rate, the substrate(s), and the product(s). The rate is separated from the substrate(s) by a <code>,</code>, and the substrate(s) from the production by a <code>--&gt;</code> (other arrows, however, are <a href="#dsl_description_symbols_arrows">also possible</a>). In the above example, our model consists of two reactions. In the first one, <code>X</code> (the single substrate) becomes <code>Y</code> (the single product) at rate <code>2.0</code>. In the second reaction, <code>Y</code> becomes <code>X</code> at rate <code>1.0</code>.</p><p>Finally, <code>rn =</code> is used to store the model in the variable <code>rn</code> (a normal Julia variable, which does not need to be called <code>rn</code>).</p><h2 id="dsl_description_parameters_basics"><a class="docs-heading-anchor" href="#dsl_description_parameters_basics">Defining parameters and species in the DSL</a><a id="dsl_description_parameters_basics-1"></a><a class="docs-heading-anchor-permalink" href="#dsl_description_parameters_basics" title="Permalink"></a></h2><p>Typically, the rates are not constants, but rather parameters (which values can be set e.g. at <a href="../../model_simulation/simulation_introduction/#simulation_intro_ODEs">the beginning of each simulation</a>). To set parametric rates, simply use whichever symbol you wish to represent your parameter with. E.g. to set the above rates to <code>a</code> and <code>b</code>, we use:</p><pre><code class="language-julia hljs">rn = @reaction_network begin
    a, X --&gt; Y
    b, Y --&gt; X
end</code></pre><p class="math-container">\[ \begin{align*}
\mathrm{X} &amp;\xrightleftharpoons[b]{a} \mathrm{Y}  
 \end{align*}
 \]</p><p>Here we have used single-character symbols to designate all species and parameters. Multi-character symbols, however, are also permitted. E.g. we could call the rates <code>kX</code> and <code>kY</code>:</p><pre><code class="language-julia hljs">rn = @reaction_network begin
    kX, X --&gt; Y
    kY, Y --&gt; X
end</code></pre><p class="math-container">\[ \begin{align*}
\mathrm{X} &amp;\xrightleftharpoons[\mathtt{kY}]{\mathtt{kX}} \mathrm{Y}  
 \end{align*}
 \]</p><p>Generally, anything that is a <a href="https://docs.julialang.org/en/v1/manual/variables/#man-allowed-variable-names">permitted Julia variable name</a> can be used to designate a species or parameter in Catalyst.</p><h2 id="dsl_description_reactions"><a class="docs-heading-anchor" href="#dsl_description_reactions">Different types of reactions</a><a id="dsl_description_reactions-1"></a><a class="docs-heading-anchor-permalink" href="#dsl_description_reactions" title="Permalink"></a></h2><h3 id="dsl_description_reactions_multiples"><a class="docs-heading-anchor" href="#dsl_description_reactions_multiples">Reactions with multiple substrates or products</a><a id="dsl_description_reactions_multiples-1"></a><a class="docs-heading-anchor-permalink" href="#dsl_description_reactions_multiples" title="Permalink"></a></h3><p>Previously, our reactions have had a single substrate and a single product. However, reactions with multiple substrates and/or products are possible. Here, all the substrates (or products) are listed and separated by a <code>+</code>. E.g. to create a model where <code>X</code> and <code>Y</code> bind (at rate <code>kB</code>) to form <code>XY</code> (which then can dissociate, at rate <code>kD</code>, to form <code>XY</code>) we use:</p><pre><code class="language-julia hljs">rn = @reaction_network begin
    kB, X + Y --&gt; XY
    kD, XY --&gt; X + Y
end</code></pre><p class="math-container">\[ \begin{align*}
\mathrm{X} + \mathrm{Y} &amp;\xrightleftharpoons[\mathtt{kD}]{\mathtt{kB}} \mathrm{\mathtt{XY}}  
 \end{align*}
 \]</p><p>Reactions can have any number of substrates and products, and their names do not need to have any relationship to each other, as demonstrated by the following mock model:</p><pre><code class="language-julia hljs">rn = @reaction_network begin
    k, X + Y + Z --&gt; A + B + C + D
end</code></pre><p class="math-container">\[ \begin{align*}
\mathrm{X} + \mathrm{Y} + \mathrm{Z} &amp;\xrightarrow{k} \mathrm{A} + \mathrm{B} + \mathrm{C} + \mathrm{D}  
 \end{align*}
 \]</p><h3 id="dsl_description_reactions_degradation_and_production"><a class="docs-heading-anchor" href="#dsl_description_reactions_degradation_and_production">Reactions with degradation or production</a><a id="dsl_description_reactions_degradation_and_production-1"></a><a class="docs-heading-anchor-permalink" href="#dsl_description_reactions_degradation_and_production" title="Permalink"></a></h3><p>Some reactions have no products, in which case the substrate(s) are degraded (i.e. removed from the system). To denote this, set the reaction&#39;s right-hand side to <code>0</code>. Similarly, some reactions have no substrates, in which case the product(s) are produced (i.e. added to the system). This is denoted by setting the left-hand side to <code>0</code>. E.g. to create a model where a single species <code>X</code> is both created (in the first reaction) and degraded (in a second reaction), we use:</p><pre><code class="language-julia hljs">rn = @reaction_network begin
    p, 0 --&gt; X
    d, X --&gt; 0
end</code></pre><p class="math-container">\[ \begin{align*}
\varnothing &amp;\xrightleftharpoons[d]{p} \mathrm{X}  
 \end{align*}
 \]</p><h3 id="dsl_description_reactions_stoichiometries"><a class="docs-heading-anchor" href="#dsl_description_reactions_stoichiometries">Reactions with non-unitary stoichiometries</a><a id="dsl_description_reactions_stoichiometries-1"></a><a class="docs-heading-anchor-permalink" href="#dsl_description_reactions_stoichiometries" title="Permalink"></a></h3><p>Reactions may include multiple copies of the same reactant (i.e. a substrate or a product). To specify this, the reactant is preceded by a number indicating its number of copies (also called the reactant&#39;s <em>stoichiometry</em>). E.g. to create a model where two copies of <code>X</code> dimerise to form <code>X2</code> (which then dissociate back to two <code>X</code> copies) we use:</p><pre><code class="language-julia hljs">rn = @reaction_network begin
    kB, 2X --&gt; X2
    kD, X2 --&gt; 2X
end</code></pre><p class="math-container">\[ \begin{align*}
2 \mathrm{X} &amp;\xrightleftharpoons[\mathtt{kD}]{\mathtt{kB}} \mathrm{\mathtt{X2}}  
 \end{align*}
 \]</p><p>Reactants whose stoichiometries are not defined are assumed to have stoichiometry <code>1</code>. Any integer number can be used, furthermore, <a href="#dsl_description_stoichiometries">decimal numbers and parameters can also be used as stoichiometries</a>. A discussion of non-unitary (i.e. not equal to <code>1</code>) stoichiometries affecting the created model can be found <a href="../../introduction_to_catalyst/introduction_to_catalyst/#introduction_to_catalyst_ratelaws">here</a>.</p><p>Stoichiometries can be combined with <code>()</code> to define them for multiple reactants. Here, the following (mock) model declares the same reaction twice, both with and without this notation:</p><pre><code class="language-julia hljs">rn = @reaction_network begin
    k, 2X + 3(Y + 2Z) --&gt; 5(V + W)
    k, 2X + 3Y + 6Z --&gt; 5V + 5W
end</code></pre><p class="math-container">\[ \begin{align*}
2 \mathrm{X} + 3 \mathrm{Y} + 6 \mathrm{Z} &amp;\xrightarrow{k} 5 \mathrm{V} + 5 \mathrm{W} \\
2 \mathrm{X} + 3 \mathrm{Y} + 6 \mathrm{Z} &amp;\xrightarrow{k} 5 \mathrm{V} + 5 \mathrm{W}  
 \end{align*}
 \]</p><h2 id="dsl_description_reaction_bundling"><a class="docs-heading-anchor" href="#dsl_description_reaction_bundling">Bundling of similar reactions</a><a id="dsl_description_reaction_bundling-1"></a><a class="docs-heading-anchor-permalink" href="#dsl_description_reaction_bundling" title="Permalink"></a></h2><h3 id="dsl_description_reaction_bundling_reversible"><a class="docs-heading-anchor" href="#dsl_description_reaction_bundling_reversible">Bi-directional (or reversible) reactions</a><a id="dsl_description_reaction_bundling_reversible-1"></a><a class="docs-heading-anchor-permalink" href="#dsl_description_reaction_bundling_reversible" title="Permalink"></a></h3><p>As is the case for the following two-state model:</p><pre><code class="language-julia hljs">rn_bidir = @reaction_network begin
    k1, X1 --&gt; X2
    k2, X2 --&gt; X1
end</code></pre><p class="math-container">\[ \begin{align*}
\mathrm{\mathtt{X1}} &amp;\xrightleftharpoons[\mathtt{k2}]{\mathtt{k1}} \mathrm{\mathtt{X2}}  
 \end{align*}
 \]</p><p>it is common that reactions occur in both directions (so-called <em>bi-directional</em> reactions). Here, it is possible to bundle the reactions into a single line by using the <code>&lt;--&gt;</code> arrow. When we do this, the rate term must include two separate rates (one for each direction, these are enclosed by a <code>()</code> and separated by a <code>,</code>). I.e. the two-state model can be declared using:</p><pre><code class="language-julia hljs">rn_bidir = @reaction_network begin
    (k1,k2), X1 &lt;--&gt; X2
end</code></pre><p class="math-container">\[ \begin{align*}
\mathrm{\mathtt{X1}} &amp;\xrightleftharpoons[\mathtt{k2}]{\mathtt{k1}} \mathrm{\mathtt{X2}}  
 \end{align*}
 \]</p><p>Here, the first rate (<code>k1</code>) denotes the <em>forward rate</em> and the second rate (<code>k2</code>) the <em>backwards rate</em>.</p><p>Catalyst also permits writing pure backwards reactions. These use identical syntax to forward reactions, but with the <code>&lt;--</code> arrow:</p><pre><code class="language-julia hljs">rn_ytox = @reaction_network begin
    k, X &lt;-- Y
end</code></pre><p class="math-container">\[ \begin{align*}
\mathrm{Y} &amp;\xrightarrow{k} \mathrm{X}  
 \end{align*}
 \]</p><p>Here, the substrate(s) are on the right-hand side and the product(s) are on the left-hand side. Hence, the above model can be written identically using:</p><pre><code class="language-julia hljs">rn_ytox = @reaction_network begin
    k, Y --&gt; X
end</code></pre><p class="math-container">\[ \begin{align*}
\mathrm{Y} &amp;\xrightarrow{k} \mathrm{X}  
 \end{align*}
 \]</p><p>Generally, using forward reactions is clearer than backwards ones, with the latter typically never being used.</p><h3 id="dsl_description_reaction_bundling_similar"><a class="docs-heading-anchor" href="#dsl_description_reaction_bundling_similar">Bundling similar reactions on a single line</a><a id="dsl_description_reaction_bundling_similar-1"></a><a class="docs-heading-anchor-permalink" href="#dsl_description_reaction_bundling_similar" title="Permalink"></a></h3><p>There exist additional situations where models contain similar reactions (e.g. systems where all system components degrade at identical rates). Reactions which share either rates, substrates, or products can be bundled into a single line. Here, the parts which are different for the reactions are written using <code>(,)</code> (containing one separate expression for each reaction). E.g., let us consider the following model where species <code>X</code> and <code>Y</code> both degrade at the rate <code>d</code>:</p><pre><code class="language-julia hljs">rn_deg = @reaction_network begin
    d, X --&gt; 0
    d, Y --&gt; 0
end</code></pre><p class="math-container">\[ \begin{align*}
\mathrm{X} &amp;\xrightarrow{d} \varnothing \\
\mathrm{Y} &amp;\xrightarrow{d} \varnothing  
 \end{align*}
 \]</p><p>These share both their rates (<code>d</code>) and products (<code>0</code>), however, the substrates are different (<code>X</code> and <code>Y</code>). Hence, the reactions can be bundled into a single line using the common rate and product expression while providing separate substrate expressions:</p><pre><code class="language-julia hljs">rn_deg = @reaction_network begin
    d, (X,Y) --&gt; 0
end</code></pre><p class="math-container">\[ \begin{align*}
\mathrm{X} &amp;\xrightarrow{d} \varnothing \\
\mathrm{Y} &amp;\xrightarrow{d} \varnothing  
 \end{align*}
 \]</p><p>This declaration of the model is identical to the previous one. Reactions can share any subset of the rate, substrate, and product expression (the cases where they share all or none, however, do not make sense to use). I.e. if the two reactions also have different degradation rates:</p><pre><code class="language-julia hljs">rn_deg2 = @reaction_network begin
    dX, X --&gt; 0
    dY, Y --&gt; 0
end</code></pre><p class="math-container">\[ \begin{align*}
\mathrm{X} &amp;\xrightarrow{\mathtt{dX}} \varnothing \\
\mathrm{Y} &amp;\xrightarrow{\mathtt{dY}} \varnothing  
 \end{align*}
 \]</p><p>This can be represented using:</p><pre><code class="language-julia hljs">rn_deg2 = @reaction_network begin
    (dX,dY), (X,Y) --&gt; 0
end</code></pre><p class="math-container">\[ \begin{align*}
\mathrm{X} &amp;\xrightarrow{\mathtt{dX}} \varnothing \\
\mathrm{Y} &amp;\xrightarrow{\mathtt{dY}} \varnothing  
 \end{align*}
 \]</p><p>It is possible to use bundling for any number of reactions. E.g. in the following model we bundle the conversion of a species <span>$X$</span> between its various forms (where all reactions use the same rate <span>$k$</span>):</p><pre><code class="language-julia hljs">rn = @reaction_network begin
    k, (X0,X1,X2,X3) --&gt; (X1,X2,X3,X4)
end</code></pre><p class="math-container">\[ \begin{align*}
\mathrm{\mathtt{X0}} &amp;\xrightarrow{k} \mathrm{\mathtt{X1}} \\
\mathrm{\mathtt{X1}} &amp;\xrightarrow{k} \mathrm{\mathtt{X2}} \\
\mathrm{\mathtt{X2}} &amp;\xrightarrow{k} \mathrm{\mathtt{X3}} \\
\mathrm{\mathtt{X3}} &amp;\xrightarrow{k} \mathrm{\mathtt{X4}}  
 \end{align*}
 \]</p><p>It is possible to combine bundling with bi-directional reactions. In this case, the rate is first split into the forward and backwards rates. These may then (or may not) indicate several rates. We exemplify this using the two following two (identical) networks, created with and without bundling.</p><pre><code class="language-julia hljs">rn_sp = @reaction_network begin
    kf, S --&gt; P1
    kf, S --&gt; P2
    kb_1, P1 --&gt; S
    kb_2, P2 --&gt; S
end</code></pre><p class="math-container">\[ \begin{align*}
\mathrm{S} &amp;\xrightarrow{\mathtt{kf}} \mathrm{\mathtt{P1}} \\
\mathrm{S} &amp;\xrightarrow{\mathtt{kf}} \mathrm{\mathtt{P2}} \\
\mathrm{\mathtt{P1}} &amp;\xrightarrow{\mathtt{kb_{1}}} \mathrm{S} \\
\mathrm{\mathtt{P2}} &amp;\xrightarrow{\mathtt{kb_{2}}} \mathrm{S}  
 \end{align*}
 \]</p><pre><code class="language-julia hljs">rn_sp = @reaction_network begin
    (kf, (kb_1, kb_2)), S &lt;--&gt; (P1,P2)
end</code></pre><p class="math-container">\[ \begin{align*}
\mathrm{S} &amp;\xrightarrow{\mathtt{kf}} \mathrm{\mathtt{P1}} \\
\mathrm{S} &amp;\xrightarrow{\mathtt{kf}} \mathrm{\mathtt{P2}} \\
\mathrm{\mathtt{P1}} &amp;\xrightarrow{\mathtt{kb_{1}}} \mathrm{S} \\
\mathrm{\mathtt{P2}} &amp;\xrightarrow{\mathtt{kb_{2}}} \mathrm{S}  
 \end{align*}
 \]</p><p>Like when we designated stoichiometries, reaction bundling can be applied very generally to create some truly complicated reactions:</p><pre><code class="language-julia hljs">rn = @reaction_network begin
    ((pX, pY, pZ),d), (0, Y0, Z0) &lt;--&gt; (X, Y, Z1+Z2)
end</code></pre><p class="math-container">\[ \begin{align*}
\varnothing &amp;\xrightarrow{\mathtt{pX}} \mathrm{X} \\
\mathrm{\mathtt{Y0}} &amp;\xrightarrow{\mathtt{pY}} \mathrm{Y} \\
\mathrm{\mathtt{Z0}} &amp;\xrightarrow{\mathtt{pZ}} \mathrm{\mathtt{Z1}} + \mathrm{\mathtt{Z2}} \\
\mathrm{X} &amp;\xrightarrow{d} \varnothing \\
\mathrm{Y} &amp;\xrightarrow{d} \mathrm{\mathtt{Y0}} \\
\mathrm{\mathtt{Z1}} + \mathrm{\mathtt{Z2}} &amp;\xrightarrow{d} \mathrm{\mathtt{Z0}}  
 \end{align*}
 \]</p><p>However, like for the above model, bundling reactions too zealously can reduce (rather than improve) a model&#39;s readability.</p><p>The one exception to reaction bundling is that we do not permit the user to provide multiple rates but only set one set each for the substrates and products. I.e.</p><pre><code class="language-julia hljs">rn_erroneous = @reaction_network begin
    (k1,k2), X --&gt; Y
end</code></pre><p>is not permitted (due to this notation&#39;s similarity to a bidirectional reaction). However, if multiples are provided for substrates and/or products, like <code>(k1,k2), (X1,X2) --&gt; Y</code>, then bundling works.</p><h2 id="dsl_description_nonconstant_rates"><a class="docs-heading-anchor" href="#dsl_description_nonconstant_rates">Non-constant reaction rates</a><a id="dsl_description_nonconstant_rates-1"></a><a class="docs-heading-anchor-permalink" href="#dsl_description_nonconstant_rates" title="Permalink"></a></h2><p>So far we have assumed that all reaction rates are constant (being either a number of a parameter). Non-constant rates that depend on one (or several) species are also possible. More generally, the rate can be any valid expression of parameters and species.</p><p>Let us consider a model with an activator (<code>A</code>, which degraded at a constant rate) and a protein (<code>P</code>). The production rate of <code>P</code> depends both on <code>A</code> and a parameter (<code>kP</code>). We model this through:</p><pre><code class="language-julia hljs">rn_ap = @reaction_network begin
    d, A --&gt; 0
    kP*A, 0 --&gt; P
end</code></pre><p class="math-container">\[ \begin{align*}
\mathrm{A} &amp;\xrightarrow{d} \varnothing \\
\varnothing &amp;\xrightarrow{A \mathtt{kP}} \mathrm{P}  
 \end{align*}
 \]</p><p>Here, <code>P</code>&#39;s production rate will be reduced as <code>A</code> decays. We can <a href="../model_visualisation/#visualisation_latex">print the ODE this model produces with <code>Latexify</code></a>:</p><pre><code class="language-julia hljs">using Latexify
latexify(rn_ap; form = :ode)</code></pre><p class="math-container">\[\begin{align}
\frac{\mathrm{d} A\left( t \right)}{\mathrm{d}t} &amp;=  - d A\left( t \right) \\
\frac{\mathrm{d} P\left( t \right)}{\mathrm{d}t} &amp;= \mathtt{kP} A\left( t \right)
\end{align}
\]</p><p>In this case, we can generate an equivalent model by instead adding <code>A</code> as both a substrate and a product to <code>P</code>&#39;s production reaction:</p><pre><code class="language-julia hljs">rn_ap_alt = @reaction_network begin
    d, A --&gt; 0
    kp, A --&gt; A + P
end</code></pre><p class="math-container">\[ \begin{align*}
\mathrm{A} &amp;\xrightarrow{d} \varnothing \\
\mathrm{A} &amp;\xrightarrow{\mathtt{kp}} \mathrm{A} + \mathrm{P}  
 \end{align*}
 \]</p><p>We can confirm that this generates the same ODE:</p><pre><code class="language-julia hljs">latexify(rn_ap_alt; form = :ode)</code></pre><p class="math-container">\[\begin{align}
\frac{\mathrm{d} A\left( t \right)}{\mathrm{d}t} &amp;=  - d A\left( t \right) \\
\frac{\mathrm{d} P\left( t \right)}{\mathrm{d}t} &amp;= \mathtt{kp} A\left( t \right)
\end{align}
\]</p><p>Here, while these models will generate identical ODE, SDE, and jump simulations, the chemical reaction network models themselves are not equivalent. Generally, as pointed out in the two notes below, using the second form is preferable.</p><div class="admonition is-warning" id="Warning-5c21c25bbd86ff5a"><header class="admonition-header">Warning<a class="admonition-anchor" href="#Warning-5c21c25bbd86ff5a" title="Permalink"></a></header><div class="admonition-body"><p>While <code>rn_ap</code> and <code>rn_ap_alt</code> will generate equivalent simulations, for jump simulations, the first model will have reduced performance as it generates a less performant representation of the system in JumpProcesses. It is generally recommended to write pure mass action reactions such that there is just a single constant within the rate constant expression for optimal performance of jump process simulations.</p></div></div><div class="admonition is-danger" id="Danger-12e151dd7112fda2"><header class="admonition-header">Danger<a class="admonition-anchor" href="#Danger-12e151dd7112fda2" title="Permalink"></a></header><div class="admonition-body"><p>Catalyst automatically infers whether quantities appearing in the DSL are species or parameters (as described <a href="../dsl_advanced/#dsl_advanced_options_declaring_species_and_parameters">here</a>). Generally, anything that does not appear as a reactant is inferred to be a parameter. This means that if you want to model a reaction activated by a species (e.g. <code>kp*A, 0 --&gt; P</code>), but that species does not occur as a reactant, it will be interpreted as a parameter. This can be handled by <a href="../dsl_advanced/#dsl_advanced_options_declaring_species_and_parameters">manually declaring the system species</a>.</p></div></div><p>Above we used a simple example where the rate was the product of a species and a parameter. However, any valid Julia expression of parameters, species, and values can be used. E.g the following is a valid model:</p><pre><code class="language-julia hljs">rn = @reaction_network begin
    2.0 + X^2, 0 --&gt; X + Y
    k1 + k2^k3, X --&gt; ∅
    pi * X/(sqrt(2) + Y), Y → ∅
end</code></pre><p class="math-container">\[ \begin{align*}
\varnothing &amp;\xrightarrow{2.0 + X^{2}} \mathrm{X} + \mathrm{Y} \\
\mathrm{X} &amp;\xrightarrow{\mathtt{k1} + \mathtt{k2}^{\mathtt{k3}}} \varnothing \\
\mathrm{Y} &amp;\xrightarrow{\frac{\pi X}{1.4142135623730951 + Y}} \varnothing  
 \end{align*}
 \]</p><h3 id="dsl_description_nonconstant_rates_functions"><a class="docs-heading-anchor" href="#dsl_description_nonconstant_rates_functions">Using functions in rates</a><a id="dsl_description_nonconstant_rates_functions-1"></a><a class="docs-heading-anchor-permalink" href="#dsl_description_nonconstant_rates_functions" title="Permalink"></a></h3><p>It is possible for the rate to contain Julia functions. These can either be functions from Julia&#39;s standard library:</p><pre><code class="language-julia hljs">rn = @reaction_network begin
    d, A --&gt; 0
    kp*sqrt(A), 0 --&gt; P
end</code></pre><p class="math-container">\[ \begin{align*}
\mathrm{A} &amp;\xrightarrow{d} \varnothing \\
\varnothing &amp;\xrightarrow{\mathtt{kp} \sqrt{A}} \mathrm{P}  
 \end{align*}
 \]</p><p>or ones defined by the user:</p><pre><code class="language-julia hljs">custom_function(p1, p2, X) = (p1 + X) / (p2 + X)
rn = @reaction_network begin
    d, A --&gt; 0
    custom_function(k1,k2,E), 0 --&gt; P
end</code></pre><p class="math-container">\[ \begin{align*}
\mathrm{A} &amp;\xrightarrow{d} \varnothing \\
\varnothing &amp;\xrightarrow{\frac{E + \mathtt{k1}}{E + \mathtt{k2}}} \mathrm{P}  
 \end{align*}
 \]</p><h3 id="dsl_description_nonconstant_rates_available_functions"><a class="docs-heading-anchor" href="#dsl_description_nonconstant_rates_available_functions">Pre-defined functions</a><a id="dsl_description_nonconstant_rates_available_functions-1"></a><a class="docs-heading-anchor-permalink" href="#dsl_description_nonconstant_rates_available_functions" title="Permalink"></a></h3><p>Two functions frequently used within systems biology are the <a href="https://en.wikipedia.org/wiki/Michaelis%E2%80%93Menten_kinetics"><em>Michaelis-Menten</em></a> and <a href="https://en.wikipedia.org/wiki/Hill_equation_(biochemistry)"><em>Hill</em></a> functions. These are pre-defined in Catalyst and can be called using <code>mm(X,v,K)</code> and <code>hill(X,v,K,n)</code>. E.g. a self-activation loop where <code>X</code> activates its own production through a Hill function can be created using:</p><pre><code class="language-julia hljs">rn = @reaction_network begin
    hill(X,v,K,n), 0 --&gt; P
    d, X --&gt; 0
end</code></pre><p class="math-container">\[ \begin{align*}
\varnothing &amp;\xrightarrow{\frac{X^{n} v}{K^{n} + X^{n}}} \mathrm{P} \\
\mathrm{X} &amp;\xrightarrow{d} \varnothing  
 \end{align*}
 \]</p><p>Catalyst comes with the following predefined functions:</p><ul><li>The Michaelis-Menten function: <span>$mm(X,v,K) = v * X/(X + K)$</span>.</li><li>The repressive Michaelis-Menten function: <span>$mmr(X,v,K) = v * K/(X + K)$</span>.</li><li>The Hill function: <span>$hill(X,v,K,n) = v * (X^n)/(X^n + K^n)$</span>.</li><li>The repressive Hill function: <span>$hillr(X,v,K,n) = v * (K^n)/(X^n + K^n)$</span>.</li><li>The activating/repressive Hill function: <span>$hillar(X,Y,v,K,n) = v * (X^n)/(X^n + Y^n + K^n)$</span>.</li></ul><h3 id="dsl_description_nonconstant_rates_function_registration"><a class="docs-heading-anchor" href="#dsl_description_nonconstant_rates_function_registration">Registration of non-algebraic functions</a><a id="dsl_description_nonconstant_rates_function_registration-1"></a><a class="docs-heading-anchor-permalink" href="#dsl_description_nonconstant_rates_function_registration" title="Permalink"></a></h3><p>Previously we showed how user-defined functions <a href="#dsl_description_nonconstant_rates_available_functions">can be used in rates directly</a>. For functions containing more complicated syntax (e.g. <code>for</code> loops or <code>if</code> statements), we must add an additional step: registering it using the <code>@register_symbolic</code> macro. Below we define a non-standard function of one variable. Next, we register it using <code>@register_symbolic</code>, after which we can use it within the DSL.</p><pre><code class="language-julia hljs">weirdfunc(x) = round(x) + 2.0
@register_symbolic weirdfunc(X)
rn = @reaction_network begin
    weirdfunc(X), 0 --&gt; X
    d, X --&gt; 0
end</code></pre><p class="math-container">\[ \begin{align*}
\varnothing &amp;\xrightleftharpoons[d]{\mathrm{weirdfunc}\left( X \right)} \mathrm{X}  
 \end{align*}
 \]</p><h3 id="dsl_description_nonconstant_rates_time"><a class="docs-heading-anchor" href="#dsl_description_nonconstant_rates_time">Time-dependant rates</a><a id="dsl_description_nonconstant_rates_time-1"></a><a class="docs-heading-anchor-permalink" href="#dsl_description_nonconstant_rates_time" title="Permalink"></a></h3><p>Previously we have assumed that the rates are independent of the time variable, <span>$t$</span>. However, time-dependent reactions are also possible. Here, simply use <code>t</code> to represent the time variable. E.g., to create a production/degradation model where the production rate decays as time progresses, we can use:</p><pre><code class="language-julia hljs">rn = @reaction_network begin
    kp/(1 + t), 0 --&gt; P
    d, P --&gt; 0
end</code></pre><p class="math-container">\[ \begin{align*}
\varnothing &amp;\xrightleftharpoons[d]{\frac{\mathtt{kp}}{1 + t}} \mathrm{P}  
 \end{align*}
 \]</p><p>Like previously, <code>t</code> can be part of any valid expression. E.g. to create a reaction with a cyclic rate (e.g. to represent a <a href="https://en.wikipedia.org/wiki/Circadian_rhythm">circadian system</a>) we can use:</p><pre><code class="language-julia hljs">rn = @reaction_network begin
    A*(sin(2π*f*t - ϕ)+1)/2, 0 --&gt; P
    d, P --&gt; 0
end</code></pre><p class="math-container">\[ \begin{align*}
\varnothing &amp;\xrightleftharpoons[d]{\frac{1}{2} A \left( 1 + \sin\left(  - \phi + 6.283185307179586 f t \right) \right)} \mathrm{P}  
 \end{align*}
 \]</p><div class="admonition is-warning" id="Warning-a4349ba3f859e8ec"><header class="admonition-header">Warning<a class="admonition-anchor" href="#Warning-a4349ba3f859e8ec" title="Permalink"></a></header><div class="admonition-body"><p>Models with explicit time-dependent rates require additional steps to correctly convert to stochastic chemical kinetics jump process representations. See <a href="https://github.com/SciML/Catalyst.jl/issues/636#issuecomment-1500311639">here</a> for guidance on manually creating such representations. Enabling Catalyst to handle this seamlessly is work in progress.</p></div></div><h2 id="dsl_description_stoichiometries"><a class="docs-heading-anchor" href="#dsl_description_stoichiometries">Non-standard stoichiometries</a><a id="dsl_description_stoichiometries-1"></a><a class="docs-heading-anchor-permalink" href="#dsl_description_stoichiometries" title="Permalink"></a></h2><h3 id="dsl_description_stoichiometries_decimal"><a class="docs-heading-anchor" href="#dsl_description_stoichiometries_decimal">Non-integer stoichiometries</a><a id="dsl_description_stoichiometries_decimal-1"></a><a class="docs-heading-anchor-permalink" href="#dsl_description_stoichiometries_decimal" title="Permalink"></a></h3><p>Previously all stoichiometric constants have been integer numbers, however, decimal numbers are also permitted. Here we create a birth-death model where each production reaction produces 1.5 units of <code>X</code>:</p><pre><code class="language-julia hljs">rn = @reaction_network begin
    p, 0 --&gt; 1.5X
    d, X --&gt; 0
end</code></pre><p class="math-container">\[ \begin{align*}
\varnothing &amp;\xrightleftharpoons[d]{p} 1.5 \mathrm{X}  
 \end{align*}
 \]</p><p>It is also possible to have non-integer stoichiometric coefficients for substrates. However, in this case the <code>combinatoric_ratelaw = false</code> option must be used. We note that non-integer stoichiometric coefficients do not make sense in most fields, however, this feature is available for use for models where it does make sense.</p><h3 id="dsl_description_stoichiometries_parameters"><a class="docs-heading-anchor" href="#dsl_description_stoichiometries_parameters">Parametric stoichiometries</a><a id="dsl_description_stoichiometries_parameters-1"></a><a class="docs-heading-anchor-permalink" href="#dsl_description_stoichiometries_parameters" title="Permalink"></a></h3><p>It is possible for stoichiometric coefficients to be parameters. E.g. here we create a generic polymerisation system where <code>n</code> copies of <code>X</code> bind to form <code>Xn</code>:</p><pre><code class="language-julia hljs">rn = @reaction_network begin
    (kB,kD), n*X &lt;--&gt; Xn
end</code></pre><p class="math-container">\[ \begin{align*}
n \mathrm{X} &amp;\xrightleftharpoons[\mathtt{kD}]{\mathtt{kB}} \mathrm{\mathtt{Xn}}  
 \end{align*}
 \]</p><p>Now we can designate the value of <code>n</code> through a parameter when we e.g. create an <code>ODEProblem</code>:</p><pre><code class="language-julia hljs">u0 = [:X =&gt; 5.0, :Xn =&gt; 1.0]
ps = [:kB =&gt; 1.0, :kD =&gt; 0.1, :n =&gt; 4]
oprob = ODEProblem(rn, u0, (0.0, 1.0), ps)</code></pre><h2 id="dsl_description_symbols"><a class="docs-heading-anchor" href="#dsl_description_symbols">Using special symbols</a><a id="dsl_description_symbols-1"></a><a class="docs-heading-anchor-permalink" href="#dsl_description_symbols" title="Permalink"></a></h2><p>Julia permits any Unicode characters to be used in variable names, thus Catalyst can use these as well. Below we describe some cases where this can be useful. No functionality is, however, tied to this.</p><h3 id="dsl_description_symbols_empty_set"><a class="docs-heading-anchor" href="#dsl_description_symbols_empty_set">Using ∅ in degradation/production reactions</a><a id="dsl_description_symbols_empty_set-1"></a><a class="docs-heading-anchor-permalink" href="#dsl_description_symbols_empty_set" title="Permalink"></a></h3><p>Previously, we described how <code>0</code> could be used to <a href="#dsl_description_reactions_degradation_and_production">create degradation or production reactions</a>. Catalyst permits the user to instead use the <code>∅</code> symbol. E.g. the production/degradation system can alternatively be written as:</p><pre><code class="language-julia hljs">rn_pd = @reaction_network begin
    p, ∅ --&gt; X
    d, X --&gt; ∅
end</code></pre><p class="math-container">\[ \begin{align*}
\varnothing &amp;\xrightleftharpoons[d]{p} \mathrm{X}  
 \end{align*}
 \]</p><h3 id="dsl_description_symbols_arrows"><a class="docs-heading-anchor" href="#dsl_description_symbols_arrows">Using special arrow symbols</a><a id="dsl_description_symbols_arrows-1"></a><a class="docs-heading-anchor-permalink" href="#dsl_description_symbols_arrows" title="Permalink"></a></h3><p>Catalyst uses <code>--&gt;</code>, <code>&lt;--&gt;</code>, and <code>&lt;--</code> to denote forward, bi-directional, and backwards reactions, respectively. Several unicode representations of these arrows are available. Here,</p><ul><li><code>&gt;</code>, <code>→</code>, <code>↣</code>, <code>↦</code>, <code>⇾</code>, <code>⟶</code>, <code>⟼</code>, <code>⥟</code>, <code>⥟</code>, <code>⇀</code>, and <code>⇁</code> can be used to represent forward reactions.</li><li><code>↔</code>, <code>⟷</code>, <code>⇄</code>, <code>⇆</code>, <code>⇌</code>, <code>⇋</code>, , and <code>⇔</code> can be used to represent bi-directional reactions.</li><li><code>&lt;</code>, <code>←</code>, <code>↢</code>, <code>↤</code>, <code>⇽</code>, <code>⟵</code>, <code>⟻</code>, <code>⥚</code>, <code>⥞</code>, <code>↼</code>, , and <code>↽</code> can be used to represent backwards reactions.</li></ul><p>E.g. the production/degradation system can alternatively be written as:</p><pre><code class="language-julia hljs">rn_pd = @reaction_network begin
    p, ∅ → X
    d, X → ∅
end</code></pre><p class="math-container">\[ \begin{align*}
\varnothing &amp;\xrightleftharpoons[d]{p} \mathrm{X}  
 \end{align*}
 \]</p><h3 id="dsl_description_symbols_special"><a class="docs-heading-anchor" href="#dsl_description_symbols_special">Using special symbols to denote species or parameters</a><a id="dsl_description_symbols_special-1"></a><a class="docs-heading-anchor-permalink" href="#dsl_description_symbols_special" title="Permalink"></a></h3><p>A range of possible characters are available which can be incorporated into species and parameter names. This includes, but is not limited to:</p><ul><li>Greek letters (e.g <code>α</code>, <code>σ</code>, <code>τ</code>, and <code>Ω</code>).</li><li>Superscript and subscript characters (to create e.g. <code>k₁</code>, <code>k₂</code>, <code>Xₐ</code>, and <code>Xᴾ</code>).</li><li>Non-latin, non-greek, letters (e.g. <code>ä</code>, <code>Д</code>, <code>س</code>, and <code>א</code>).</li><li>Other symbols (e.g. <code>£</code>, <code>ℂ</code>, <code>▲</code>, and <code>♠</code>).</li></ul><p>An example of how this can be used to create a neat-looking model can be found in <a href="https://www.embopress.org/doi/full/10.15252/msb.20209832">Schwall et al. (2021)</a> where it was used to model a sigma factor V circuit in the bacteria <em>Bacillus subtilis</em>:</p><pre><code class="language-julia hljs">σᵛ_model = @reaction_network begin
    v₀ + hill(σᵛ,v,K,n), ∅ → σᵛ + A
    kdeg, (σᵛ, A, Aσᵛ) → ∅
    (kB,kD), A + σᵛ ↔ Aσᵛ
    L, Aσᵛ → σᵛ
end</code></pre><p>This functionality can also be used to create less serious models:</p><pre><code class="language-julia hljs">rn = @reaction_network begin
    🍦, 😢 --&gt; 😃
end</code></pre><p class="math-container">\[ \begin{align*}
\mathrm{😢} &amp;\xrightarrow{🍦} \mathrm{😃}  
 \end{align*}
 \]</p><p>It should be noted that the following symbols are <em>not permitted</em> to be used as species or parameter names:</p><ul><li><code>pi</code> and <code>π</code> (used in Julia to denote <a href="https://en.wikipedia.org/wiki/Pi"><code>3.1415926535897...</code></a>).</li><li><code>ℯ</code> (used in Julia to denote <a href="https://en.wikipedia.org/wiki/Euler%27s_constant">Euler&#39;s constant</a>).</li><li><code>t</code> (used to denote the <a href="#dsl_description_nonconstant_rates_time">time variable</a>).</li><li><code>∅</code> (<a href="#dsl_description_symbols_empty_set">used for production/degradation reactions</a>).</li><li><code>im</code> (used in Julia to represent <a href="https://docs.julialang.org/en/v1/manual/complex-and-rational-numbers/#Complex-Numbers">complex numbers</a>).</li><li><code>nothing</code> (used in Julia to denote <a href="https://docs.julialang.org/en/v1/base/constants/#Core.nothing">nothing</a>).</li><li><code>Γ</code> (used by Catalyst to represent <a href="../constraint_equations/#constraint_equations">conserved quantities</a>).</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../introduction_to_catalyst/math_models_intro/">« Mathematical Models Catalyst can Generate</a><a class="docs-footer-nextpage" href="../dsl_advanced/">The Catalyst DSL - Advanced Features and Options »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Saturday 29 November 2025 01:12">Saturday 29 November 2025</span>. Using Julia version 1.11.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
